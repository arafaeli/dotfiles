"""""""""""""""""""""""""""""""""""""""""""
"
" ███████  ███████  ███████  ███████
" ██    █  █        █           █
" ██████   ██████   ██████      █
" ██    █  █              █     █
" ███████  ███████  ██████      █
"
" 
" Maintainer: Asaf Rafaeli
" 
" Contents:
"   » General
"   » Interface
"   » Navigation
"   » Editing
"   » Status line
"
"""""""""""""""""""""""""""""""""""""""""""

"""""""""""""""""""""""""""""""""""""""""""
" » General
"""""""""""""""""""""""""""""""""""""""""""

" Enable pathogen
call pathogen#infect()

" Enable filetype plugins
filetype plugin indent on

" Auto-read file when changed
set autoread

" File type recognition
autocmd BufNewFile,BufRead *.Dockerfile setf dockerfile
autocmd BufNewFile,BufRead *.dockerfile setf dockerfile
autocmd BufNewFile,BufReadPost *.md set filetype=markdown

" Update shit 250ms
set updatetime=250

" Turn backup off, since most stuff is in SVN, git et.c anyway...
set nobackup
set nowb
set noswapfile


"""""""""""""""""""""""""""""""""""""""""""
" » Interface
"""""""""""""""""""""""""""""""""""""""""""

" Enable syntax hilighting
syntax enable

" Python syntax
let python_highlight_all = 1

" Jedi python autocompletion
set splitbelow

" Highlight colors in code
autocmd BufNewFile,BufRead * ColorHighlight

" Highlight text during searches
set hlsearch

" Show line numbers
set number
set relativenumber

" Column line
set colorcolumn=120

" Line number and gutter colors
let g:gitgutter_override_sign_column_highlight = 0
highlight LineNr ctermbg=grey guibg=grey
highlight SignColumn ctermbg=grey guibg=grey

" Highlight current line
set cursorline

"""""""""""""""""""""""""""""""""""""""""""
" » Navigation
"""""""""""""""""""""""""""""""""""""""""""

" Sane split navigation
nnoremap <C-h> <C-w><C-h>
nnoremap <C-j> <C-w><C-j>
nnoremap <C-k> <C-w><C-k>
nnoremap <C-l> <C-w><C-l>

" NERDTree
map <C-n> :NERDTreeToggle<CR>

" CtrlP fuzzy file finder
let g:ctrlp_map = '<c-p>'
let g:ctrlp_cmd = 'CtrlP'
let g:ctrlp_working_path_mode = 'ra'


"""""""""""""""""""""""""""""""""""""""""""
" » Editing
"""""""""""""""""""""""""""""""""""""""""""

" Save and quit remappings
map <C-s> :w<CR>
map <C-q> :q<CR>

" Indentation (tab=2 spaces, autoindent)
set et
set tabstop=2
set shiftwidth=2
set ai

" PEP8
set textwidth=119
let $PATH .= ';/home/asaf/.pyenv/shims'
autocmd BufWritePost *.py call Flake8()


"""""""""""""""""""""""""""""""""""""""""""
" » Status line
"""""""""""""""""""""""""""""""""""""""""""

" Statusline ON
set noruler
set laststatus=2


"""""""""""""""""""""""""""""""""""""""""""
" » Misc
"""""""""""""""""""""""""""""""""""""""""""

" GUI Stuff (Colorscheme)
" colorscheme Kafka
colors angr

" Remove annoying tilde ~ on empty lines
hi NonText guifg=bg

" set guifont=Source\ Code\ Pro\ for\ Powerline\ 12
set guifont=Monaco\ 14
set guioptions-=m  "remove menu bar
set guioptions-=T  "remove toolbar

" air-line
let g:airline_powerline_fonts = 1
let g:airline_theme='angr'

